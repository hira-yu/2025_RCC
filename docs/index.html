<!DOCTYPE html>
<html>
<head>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>オンライン注文</title>
  <link rel="stylesheet" href="./css/style.css">
</head>
<body>

  <h1>商品リスト</h1>
  <div id="loading" style="text-align: center;">商品情報を読み込み中...</div>
  <div id="product-list">
    </div>

  <div id="order-confirm-modal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeOrderModal()">&times;</span>
        
        <div class="order-summary-content">
            <h2>ご注文内容の確認</h2>
            <div id="cart-items-detail">カートは空です。</div>
            <p><strong>合計金額: <span id="total-price-detail">0</span>円</strong></p>
            
            <label for="customerName">お名前:</label>
            <input type="text" id="customerName" placeholder="お名前を入力" required style="width: 95%; padding: 10px; margin-bottom: 10px;">

            <label for="notes">特記事項:</label>
            <textarea id="notes" placeholder="アレルギーなど特記事項があれば..." style="width: 95%; padding: 10px;"></textarea>

            <button id="submit-order" class="submit-button" onclick="submitOrder()">注文確定</button>
            <p id="message" class="error"></p>
        </div>
    </div>
</div>

<div class="fixed-cart-container" onclick="openOrderModal()">
    <div class="mini-cart-bar">
        <div class="cart-info">
            <span id="item-count">商品 0 点</span><br>
            <span id="total-price-mini">¥ 0</span>
        </div>
        <button class="view-cart-button">注文へ進む &gt;</button>
    </div>
</div>

<div id="product-modal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <div id="modal-image-container">
            <img id="modal-image" src="" alt="商品画像">
        </div>
        <h2 id="modal-product-name"></h2>
        <p id="modal-product-price"></p>
        
        <div class="details">
            <p id="modal-ingredients"><strong>原材料:</strong> </p>
            <p id="modal-allergens"><strong>アレルギー:</strong> </p>
        </div>

        <div id="modal-order-controls">
            <label>数量:</label>
            <div class="quantity-control">
                <button class="qty-button" onclick="changeQuantity(-1)">&minus;</button>
                <input type="number" id="modal-quantity" value="1" min="1">
                <button class="qty-button" onclick="changeQuantity(1)">&plus;</button>
            </div>
            <button id="add-to-cart-button" onclick="addToCartFromModal()">カートに追加</button>
        </div>
        
        <p id="modal-message" class="error"></p>
    </div>
</div>
<script src="./js/script.js"></script>
</body>
</html>